---
import { getCollection } from "astro:content";

import BaseLayout from "@layouts/BaseLayout.astro";
import Post from "@components/Post.astro";
import consts from "@scripts/consts";

const posts = await getCollection("posts");
const sortedPosts = posts.sort(
  (a, b) => b.data.date.getTime() - a.data.date.getTime()
);

const { author } = consts;
---

<BaseLayout
  title="Posts"
  description=`Browse articles by ${author} on development, technology, and more.`
>
  <h1>Posts</h1>
  {sortedPosts.map((post) => <Post post={post} />)}
</BaseLayout>
